#
# Yet Another UserAgent Analyzer
# Copyright (C) 2013-2019 Niels Basjes
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
config:

# =============================
# Use all Step functions
# Needed to verify serialization
# =============================

- matcher:
#    variable:
#    - 'Foo: agent.product.name^.name'
    require:
    - 'agent.(6)product.name{"StartsWithThis"'    #path{value
    - 'agent.(4-5)product.name="IsThisExactly"'   #path=value
    - 'agent.(2-3)product.name[-3]="123"'         #path[n]=value
    - 'agent.(1)product.name'                     #path          exists

    extract:
      - 'Test               :   1 : "Ok"'
#
#- test:
#    input:
#       user_agent_string                   : 'Foo/1.0 (BAR bars /2_0_0)'
#    expected:
#      Test                                 : 'Ok'
#      Concat12                             : '>BAR bars<'
#      Concat1                              : '>BAR bars'
#      Concat2                              : 'BAR bars<'
#      NormalizeBrand                       : 'BAR Bars'
#      CleanVersion                         : '2.0.0'
#      LookUpFoo1                           : 'Foo'
#      LookUpFoo2                           : 'Foo'
#      LookUpBar1                           : 'No Bar'
#      LookUpBar2                           : 'Bar'
#      LookUpPrefix1                        : 'No Bar'
#      LookUpPrefix2                        : 'Foo'
#      IsInLookUpPrefix                     : 'Foo'
#      IsInSet                              : 'Foo'
